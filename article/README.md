# tiny-c
I am an idiot

https://ia801008.us.archive.org/19/items/dr_dobbs_journal_vol_05_201803/dr_dobbs_journal_vol_05.pdf (page 190 in pdf, 176 in footer)

# Planning
 - [ ] Copy over existing compiler as much as possible using int64
 - [ ] Add `#DEFINE` `#IFDEF <name>` `#IFNDEF <name>` and `#ENDIF` to be able to reuse header files
 - [ ] Add support for ANSI function declaration instead of K&R
 - [ ] Add `void` return type
 - [ ] Add function return type if its not there yet
 - [ ] Enums, to make the compiler easier
 - [ ] Structs? (I already declared that I am an idiot)


# Functions defined in code
+: Implementation can differ
*: Not recompilable
-: Not complete
 - [x] main() -
 - [x] parse() -
 - [ ] dumplits()
 - [ ] dumpglbs()
 - [ ] errorsummary()
 - [ ] ask()
 - [ ] openout()
 - [x] openin()
 - [ ] doinclude()
 - [ ] closeout()
 - [ ] declglb(typ)
 - [ ] declloc(typ)
 - [ ] needsub()
 - [x] newfunc() -
 - [ ] getarg(t)
 - [ ] statement()
 - [ ] ns()
 - [ ] compound()
 - [ ] doif()
 - [ ] dowhile()
 - [ ] doreturn()
 - [ ] dobreak()
 - [ ] docont()
 - [ ] doasm()
 - [ ] callfunction(ptr)
 - [ ] junk()
 - [ ] endstr()
 - [ ] illname()
 - [ ] multidef(sname)
 - [ ] needbrack(str)
 - [ ] needlval()
 - [ ] findglb(sname)
 - [ ] findloc(sname)
 - [ ] addglb(sname, id, typ, value)
 - [ ] addloc(sname,id,typ,value)
 - [ ] symname(sname)
 - [ ] getlabel()
 - [ ] printlabel(label)
 - [ ] alpha(c)
 - [ ] numeric(c)
 - [ ] an(c)
 - [x] pl(str)
 - [ ] addwhile(ptr)
 - [ ] delwhile()
 - [ ] readwhile()
 - [x] ch()
 - [x] nch()
 - [x] gch()
 - [x] kill()
 - [ ] inbyte()
 - [ ] inchar()
 - [ ] inline()
 - [ ] keepch(c)
 - [ ] preprocess()
 - [ ] addmac()
 - [ ] putmac(c)
 - [ ] findmac(sname)
 - [ ] outbyte(c)
 - [ ] outstr(ptr)
 - [ ] nl()
 - [ ] tab()
 - [ ] error(ptr)
 - [ ] ol(ptr)
 - [ ] ot(ptr)
 - [ ] streq(str1,str2)
 - [ ] astreq(str1,str2,len)
 - [ ] match(lit)
 - [ ] amatch(lit, len)
 - [ ] blanks()
 - [ ] outdec()
 - [ ] expression()
 - [ ] heir1(lval)
 - [ ] heir2(lval)
 - [ ] heir3(lval)
 - [ ] heir4(lval)
 - [ ] heir5(lval)
 - [ ] heir6(lval)
 - [ ] heir7(lval)
 - [ ] heir8(lval)
 - [ ] heir9(lval)
 - [ ] heir10(lval)
 - [ ] heir11(lval)
 - [ ] primary(lval)
 - [ ] store(lval)
 - [ ] rvalue(lval)
 - [ ] test(label)
 - [ ] constant(val)
 - [ ] number(val)
 - [ ] pstr(val)
 - [ ] qstr(val)
 - [ ] comment()
 - [ ] header()
 - [ ] trailer()
 - [ ] getmem(sym)
 - [ ] getloc(sym)
 - [ ] putmem(sym)
 - [ ] putstk(typeobj)
 - [ ] indirect(typeobj)
 - [ ] swap()
 - [ ] immed()
 - [ ] push()
 - [ ] pop()
 - [ ] swapstk()
 - [ ] call(sname)
 - [ ] ret()
 - [ ] callstk()
 - [ ] jump(label)
 - [ ] testjumt(label)
 - [ ] defbyte()
 - [ ] defstorage()
 - [ ] defword()
 - [ ] modstk(newsp)
 - [ ] doublereg()
 - [ ] add()
 - [ ] sub()
 - [ ] mult()
 - [ ] div()
 - [ ] mod()
 - [ ] or()
 - [ ] xor()
 - [ ] and()
 - [ ] asr()
 - [ ] asl()
 - [ ] neg()
 - [ ] com()
 - [ ] inc()
 - [ ] dec()
 - [ ] eq()
 - [ ] ne()
 - [ ] lt()
 - [ ] le()
 - [ ] gt()
 - [ ] ge()
 - [ ] ult()
 - [ ] ule()
 - [ ] ugt()
 - [ ] uge()
